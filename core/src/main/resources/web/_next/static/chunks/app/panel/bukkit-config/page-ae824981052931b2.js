(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5423],{5953:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("paint-bucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]])},18910:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var a=s(95155),r=s(55028),n=s(12115),l=s(35695),i=s(51362),c=s(5953),o=s(32568),d=s(19946);let u=(0,d.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var x=s(20848),m=s(89577),h=s(52815),f=s(19299),p=s(19832),k=s(53999),b=s(31886),g=s(80154),v=s(97168);let j=(0,d.A)("file-cog",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m2.305 15.53.923-.382",key:"yfp9st"}],["path",{d:"m3.228 12.852-.924-.383",key:"bckynb"}],["path",{d:"M4.677 21.5a2 2 0 0 0 1.313.5H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2.5",key:"1yo3oz"}],["path",{d:"m4.852 11.228-.383-.923",key:"1j88i9"}],["path",{d:"m4.852 16.772-.383.924",key:"sag1dv"}],["path",{d:"m7.148 11.228.383-.923",key:"rj39hk"}],["path",{d:"m7.53 17.696-.382-.924",key:"1uu5cs"}],["path",{d:"m8.772 12.852.923-.383",key:"13811l"}],["path",{d:"m8.772 15.148.923.383",key:"z1a5l0"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]]);function y(e){let{name:t,isActive:s,isSaved:r=!0,onClick:n}=e;return(0,a.jsxs)(m.yc,{className:"justify-between",isActive:s,onClick:()=>n&&n(),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j,{}),(0,a.jsx)("span",{children:t})]}),s&&!r&&(0,a.jsx)("div",{className:"rounded-full w-2 h-2 mr-2 bg-foreground"})]})}var N=s(41236),C=s(31815);let w=(0,r.default)(()=>Promise.all([s.e(4654),s.e(1376),s.e(6859),s.e(8638),s.e(4695),s.e(2674),s.e(1752)]).then(s.bind(s,11752)),{loadableGenerated:{webpack:()=>[11752]},ssr:!1});function A(){var e,t;let{push:s}=(0,l.useRouter)(),{theme:r}=(0,i.D)(),d=(0,n.useContext)(f.se),[j,A]=(0,n.useState)(null),[$,z]=(0,n.useState)("bukkit"),[L,M]=(0,n.useState)(""),[P,S]=(0,n.useState)(!0),[E,_]=(0,n.useState)(!1),F=(0,n.useCallback)(async()=>{if(d&&!(0,k.v_)(d.serverType))return void s("/panel/dashboard");try{let e=await (0,b.qV)("/api/control/bukkit-config"),t=new Map;for(let[s,a]of Object.entries(e))t.set(s,(0,k.QM)(a));A(t),z((0,h.mt)("state.bukkit-config.current-editing")),S(!0)}catch(e){(0,b.Kf)(e,(0,g.$)("bukkit-config.fetch.error"),[[400,(0,g.$)("common.error.400")],[401,(0,g.$)("common.error.401")],[500,(0,g.$)("common.error.500")],[503,(0,g.$)("bukkit-config.error.503")]])}},[s,d]),q=(0,n.useCallback)(async()=>{_(!0);try{await (0,b.ow)("/api/control/bukkit-config?target=".concat($),(0,k.q3)(L)),p.P.emit("refresh-data"),_(!1),S(!0)}catch(e){(0,b.Kf)(e,(0,g.$)("bukkit-config.save.error",$),[[400,(0,g.$)("common.error.400")],[401,(0,g.$)("common.error.401")],[500,(0,g.$)("common.error.500")],[503,(0,g.$)("bukkit-config.error.503")]])}},[$,L]),V=e=>{z(e),S(!0),(0,h.kz)("state.bukkit-config.current-editing",e)};return(0,n.useEffect)(()=>(F(),p.P.on("refresh-data",()=>F()),()=>{p.P.removeAllListeners("refresh-data")}),[F]),(0,n.useEffect)(()=>{var e;$&&j&&M(null!=(e=j.get($))?e:"")},[$,j]),(0,N.V)("s",{ctrl:!0},()=>q()),(0,a.jsx)(x.C,{title:(0,g.$)("bukkit-config.title"),description:(0,g.$)("bukkit-config.description"),category:(0,g.$)("sidebar.config"),icon:(0,a.jsx)(c.A,{}),outerClassName:"max-h-screen overflow-y-hidden max-lg:max-h-none max-lg:overflow-y-auto",className:"flex-1 min-h-0",children:(0,a.jsxs)(m.F6,{children:[(0,a.jsxs)(m.Zz,{className:"h-full justify-between",children:[(0,a.jsxs)(m.Ls,{children:[(0,a.jsx)(y,{name:"bukkit.yml",isActive:"bukkit"===$,isSaved:P,onClick:()=>V("bukkit")}),["Spigot","Paper","Folia"].includes(null!=(e=null==d?void 0:d.serverType)?e:"")&&(0,a.jsx)(y,{name:"spigot.yml",isActive:"spigot"===$,isSaved:P,onClick:()=>V("spigot")}),["Paper","Folia"].includes(null!=(t=null==d?void 0:d.serverType)?t:"")&&(0,a.jsx)(y,{name:"paper-global.yml",isActive:"paper"===$,isSaved:P,onClick:()=>V("paper")})]}),(0,a.jsxs)("div",{className:"flex justify-end *:cursor-pointer",children:[(0,a.jsx)(v.$,{variant:"ghost",size:"icon",onClick:()=>F(),children:(0,a.jsx)(o.A,{})}),(0,a.jsx)(v.$,{variant:"ghost",size:"icon",disabled:P,onClick:()=>q(),children:(0,a.jsx)(u,{})})]})]}),(0,a.jsxs)(m.CT,{children:[(0,a.jsx)(w,{defaultLanguage:"yaml",value:L,theme:"dark"===r?"opanel-theme-dark":"opanel-theme",options:{minimap:{enabled:!1},...h.FN},onChange:e=>{S(!1),M(null!=e?e:"")}}),(0,a.jsx)(m.At,{children:(0,a.jsx)(m.J1,{side:"right",children:E?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.y,{}),(0,a.jsx)("span",{children:(0,g.$)("bukkit-config.editor.status-bar.saving")})]}):P?(0,g.$)("bukkit-config.editor.status-bar.saved"):(0,g.$)("bukkit-config.editor.status-bar.edited")})})]})]})})}},19299:(e,t,s)=>{"use strict";s.d(t,{CS:()=>l,se:()=>n,w3:()=>i});var a=s(12115);function r(){let e=a.createContext(void 0);return e.displayName="APIContext",e}let n=r(),l=r(),i=a.createContext(void 0);i.displayName="APIContext"},19832:(e,t,s)=>{"use strict";s.d(t,{P:()=>r});var a=s(19087);let r=new(s.n(a)())},20848:(e,t,s)=>{"use strict";s.d(t,{C:()=>z});var a=s(95155),r=s(12115),n=s(53999),l=s(6874),i=s.n(l),c=s(16453),o=s(381),d=s(58071),u=s(21675),x=s(34835),m=s(81284),h=s(97168),f=s(51362),p=s(93509),k=s(62098);function b(){let[e,t]=(0,r.useState)(!1),{theme:s,setTheme:n}=(0,f.D)();return((0,r.useEffect)(()=>{t(!0)},[]),e)?(0,a.jsx)(h.$,{variant:"ghost",size:"icon",className:"cursor-pointer group-data-[state=collapsed]:size-8",onClick:()=>void("dark"===s?n("light"):n("dark")),children:"dark"===s?(0,a.jsx)(p.A,{}):(0,a.jsx)(k.A,{})}):null}var g=s(20193),v=s(80154);function j(e){let{className:t,...s}=e;return(0,a.jsxs)("nav",{className:(0,n.cn)("min-h-12 bg-background border-b border-b-sidebar-border flex items-center justify-end *:cursor-pointer",t),...s,children:[(0,a.jsx)(g.x2,{className:"mr-auto hidden max-md:flex cursor-pointer"}),(0,a.jsxs)("div",{className:"space-x-2 mr-2 max-sm:mr-0 max-sm:space-x-0",children:[(0,a.jsx)(h.$,{variant:"ghost",asChild:!0,children:(0,a.jsxs)(i(),{href:"/panel/settings",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)("span",{className:"max-sm:hidden",children:(0,v.$)("nav.settings")})]})}),(0,a.jsx)(h.$,{variant:"ghost",asChild:!0,children:(0,a.jsxs)(i(),{href:"https://opanel.cn/docs/quick-start.html",target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(d.A,{}),(0,a.jsx)("span",{className:"max-sm:hidden",children:(0,v.$)("nav.docs")}),(0,a.jsx)(u.A,{className:"!size-3 ml-1 max-sm:hidden",stroke:"var(--color-muted-foreground)"})]})})]}),(0,a.jsx)(h.$,{variant:"ghost",size:"icon",onClick:()=>void((0,c.deleteCookie)("token"),window.location.href="/login"),children:(0,a.jsx)(x.A,{})}),(0,a.jsx)(b,{}),(0,a.jsx)(h.$,{className:"max-sm:hidden",variant:"ghost",size:"icon",asChild:!0,children:(0,a.jsx)(i(),{href:"/about",children:(0,a.jsx)(m.A,{})})})]})}var y=s(13052);function N(e){let{...t}=e;return(0,a.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function C(e){let{className:t,...s}=e;return(0,a.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,n.cn)("text-muted-foreground flex flex-wrap items-center gap-1 text-sm break-words",t),...s})}function w(e){let{className:t,...s}=e;return(0,a.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,n.cn)("inline-flex items-center gap-1.5 text-xs",t),...s})}function A(e){let{className:t,...s}=e;return(0,a.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,n.cn)("text-foreground font-semibold",t),...s})}function $(e){let{children:t,className:s,...r}=e;return(0,a.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,n.cn)("[&>svg]:size-3.5",s),...r,children:null!=t?t:(0,a.jsx)(y.A,{})})}function z(e){let{children:t,title:s,subTitle:l,description:i,category:c,icon:o,outerClassName:d,pageClassName:u,className:x,...m}=e;return(0,r.useEffect)(()=>{document.title="OPanel - ".concat(null!=l?l:s)},[s,l]),(0,a.jsxs)("div",{className:(0,n.cn)("group max-h-screen bg-sidebar flex-1 flex flex-col",d),children:[(0,a.jsx)(j,{className:"px-8 max-sm:px-2"}),(0,a.jsxs)("div",{className:(0,n.cn)("flex-1 p-8 flex flex-col gap-4 overflow-y-auto",!i&&"gap-8",u),children:[(0,a.jsxs)("div",{className:"space-y-4",children:[c&&(0,a.jsx)(N,{className:"mb-3",children:(0,a.jsxs)(C,{children:[(0,a.jsx)(w,{children:c}),l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($,{}),(0,a.jsx)(w,{children:(0,a.jsx)(A,{children:s})})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[o,(0,a.jsx)("h1",{className:"text-3xl font-bold",children:null!=l?l:s})]}),i&&(0,a.jsx)("span",{className:"text-muted-foreground",children:i})]}),(0,a.jsx)("div",{className:x,...m,children:t})]})]})}},31815:(e,t,s)=>{"use strict";s.d(t,{y:()=>l});var a=s(95155),r=s(51154),n=s(53999);function l(e){let{className:t,...s}=e;return(0,a.jsx)(r.A,{role:"status","aria-label":"Loading",className:(0,n.cn)("size-4 animate-spin",t),...s})}},32568:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},41236:(e,t,s)=>{"use strict";s.d(t,{V:()=>r});var a=s(12115);function r(e,t,s){let r=(0,a.useCallback)(a=>{a.key.toLowerCase()===e.toLowerCase()&&(!t.ctrl||a.ctrlKey)&&(!t.shift||a.shiftKey)&&(!t.alt||a.altKey)&&s(a)},[e,t,s]);(0,a.useEffect)(()=>(document.body.addEventListener("keydown",r),()=>document.body.removeEventListener("keydown",r)),[r])}},89577:(e,t,s)=>{"use strict";s.d(t,{At:()=>d,CT:()=>o,F6:()=>n,J1:()=>u,Ls:()=>i,Zz:()=>l,yc:()=>c});var a=s(95155),r=s(53999);function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("h-full border rounded-md bg-background dark:bg-transparent flex max-lg:flex-col overflow-hidden",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)("aside",{className:(0,r.cn)("flex-1/4 h-fit max-h-full max-lg:max-h-none flex flex-col gap-3 p-2",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("flex-1 flex flex-col overflow-y-auto",t),...s})}function c(e){let{className:t,isActive:s=!1,...n}=e;return(0,a.jsx)("div",{className:(0,r.cn)("h-10 rounded-sm px-3 py-1 flex items-center gap-2 text-sm cursor-pointer [&_svg]:size-4",s&&"bg-muted",t),...n})}function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("flex-3/4 border-l max-lg:border-l-0 max-lg:border-t max-lg:min-h-96 flex flex-col justify-end max-lg:flex-col-reverse",t),...s})}function d(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("h-6 px-2 border-t max-lg:border-t-0 max-lg:border-b flex items-center [&>*]:text-xs [&>*]:text-muted-foreground cursor-default",t),...s})}function u(e){let{className:t,side:s="left",...n}=e;return(0,a.jsx)("span",{className:(0,r.cn)("right"===s&&"ml-auto",t),...n})}},96970:(e,t,s)=>{Promise.resolve().then(s.bind(s,18910))}},e=>{e.O(0,[9690,4390,1835,9641,5702,6671,9438,297,7691,8443,7448,304,5294,8441,5964,7358],()=>e(e.s=96970)),_N_E=e.O()}]);