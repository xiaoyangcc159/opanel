(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5423],{7098:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var r=t(95155),a=t(55028),n=t(12115),l=t(35695),i=t(51362),o=t(5953),c=t(32568),d=t(4229),u=t(20848),x=t(89577),m=t(52815),f=t(19299),h=t(19832),b=t(53999),g=t(31886),v=t(80154),j=t(97168),p=t(99128);function k(e){let{name:s,isActive:t,isSaved:a=!0,onClick:n}=e;return(0,r.jsxs)(x.yc,{className:"justify-between",isActive:t,onClick:()=>n&&n(),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{}),(0,r.jsx)("span",{children:s})]}),t&&!a&&(0,r.jsx)("div",{className:"rounded-full w-2 h-2 mr-2 bg-foreground"})]})}var N=t(41236),y=t(31815);let C=(0,a.default)(()=>Promise.all([t.e(4654),t.e(1376),t.e(6859),t.e(8638),t.e(4695),t.e(2674),t.e(1752)]).then(t.bind(t,11752)),{loadableGenerated:{webpack:()=>[11752]},ssr:!1});function w(){var e,s,t;let{push:a}=(0,l.useRouter)(),{theme:p}=(0,i.D)(),w=(0,n.useContext)(f.se),[$,A]=(0,n.useState)(null),[z,L]=(0,n.useState)("bukkit"),[S,P]=(0,n.useState)(""),[E,_]=(0,n.useState)(!0),[F,T]=(0,n.useState)(!1),K=(0,n.useCallback)(async()=>{if(w&&!(0,b.v_)(w.serverType))return void a("/panel/dashboard");try{let e=await (0,g.qV)("/api/control/bukkit-config"),s=new Map;for(let[t,r]of Object.entries(e))s.set(t,(0,b.QM)(r));A(s),L((0,m.mt)("state.bukkit-config.current-editing")),_(!0)}catch(e){(0,g.Kf)(e,(0,v.$)("bukkit-config.fetch.error"),[[400,(0,v.$)("common.error.400")],[401,(0,v.$)("common.error.401")],[500,(0,v.$)("common.error.500")],[503,(0,v.$)("bukkit-config.error.503")]])}},[a,w]),O=(0,n.useCallback)(async()=>{T(!0);try{await (0,g.ow)("/api/control/bukkit-config?target=".concat(z),(0,b.q3)(S)),h.P.emit("refresh-data"),T(!1),_(!0)}catch(e){(0,g.Kf)(e,(0,v.$)("bukkit-config.save.error",z),[[400,(0,v.$)("common.error.400")],[401,(0,v.$)("common.error.401")],[500,(0,v.$)("common.error.500")],[503,(0,v.$)("bukkit-config.error.503")]])}},[z,S]),q=e=>{L(e),_(!0),(0,m.kz)("state.bukkit-config.current-editing",e)};return(0,n.useEffect)(()=>(K(),h.P.on("refresh-data",()=>K()),()=>{h.P.removeAllListeners("refresh-data")}),[K]),(0,n.useEffect)(()=>{var e;z&&$&&P(null!=(e=$.get(z))?e:"")},[z,$]),(0,N.V)("s",{ctrl:!0},()=>O()),(0,r.jsx)(u.C,{title:(0,v.$)("bukkit-config.title"),description:(0,v.$)("bukkit-config.description"),category:(0,v.$)("sidebar.config"),icon:(0,r.jsx)(o.A,{}),outerClassName:"max-h-screen overflow-y-hidden max-lg:max-h-none max-lg:overflow-y-auto",className:"flex-1 min-h-0",children:(0,r.jsxs)(x.F6,{children:[(0,r.jsxs)(x.Zz,{className:"h-full justify-between",children:[(0,r.jsxs)(x.Ls,{children:[(0,r.jsx)(k,{name:"bukkit.yml",isActive:"bukkit"===z,isSaved:E,onClick:()=>q("bukkit")}),["Spigot","Paper","Folia","Leaves"].includes(null!=(e=null==w?void 0:w.serverType)?e:"")&&(0,r.jsx)(k,{name:"spigot.yml",isActive:"spigot"===z,isSaved:E,onClick:()=>q("spigot")}),["Paper","Folia","Leaves"].includes(null!=(s=null==w?void 0:w.serverType)?s:"")&&(0,r.jsx)(k,{name:"paper-global.yml",isActive:"paper"===z,isSaved:E,onClick:()=>q("paper")}),["Leaves"].includes(null!=(t=null==w?void 0:w.serverType)?t:"")&&(0,r.jsx)(k,{name:"leaves.yml",isActive:"leaves"===z,isSaved:E,onClick:()=>q("leaves")})]}),(0,r.jsxs)("div",{className:"flex justify-end *:cursor-pointer",children:[(0,r.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>K(),children:(0,r.jsx)(c.A,{})}),(0,r.jsx)(j.$,{variant:"ghost",size:"icon",disabled:E,onClick:()=>O(),children:(0,r.jsx)(d.A,{})})]})]}),(0,r.jsxs)(x.CT,{children:[(0,r.jsx)(C,{defaultLanguage:"yaml",value:S,theme:"dark"===p?"opanel-theme-dark":"opanel-theme",options:{minimap:{enabled:!1},...m.FN},onChange:e=>{_(!1),P(null!=e?e:"")}}),(0,r.jsx)(x.At,{children:(0,r.jsx)(x.J1,{side:"right",children:F?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.y,{}),(0,r.jsx)("span",{children:(0,v.$)("bukkit-config.editor.status-bar.saving")})]}):E?(0,v.$)("bukkit-config.editor.status-bar.saved"):(0,v.$)("bukkit-config.editor.status-bar.edited")})})]})]})})}},19299:(e,s,t)=>{"use strict";t.d(s,{CS:()=>l,se:()=>n,w3:()=>i});var r=t(12115);function a(){let e=r.createContext(void 0);return e.displayName="APIContext",e}let n=a(),l=a(),i=r.createContext(void 0);i.displayName="APIContext"},19832:(e,s,t)=>{"use strict";t.d(s,{P:()=>a});var r=t(19087);let a=new(t.n(r)())},20848:(e,s,t)=>{"use strict";t.d(s,{C:()=>z});var r=t(95155),a=t(12115),n=t(53999),l=t(6874),i=t.n(l),o=t(16453),c=t(381),d=t(58071),u=t(21675),x=t(34835),m=t(81284),f=t(97168),h=t(51362),b=t(93509),g=t(62098);function v(){let[e,s]=(0,a.useState)(!1),{theme:t,setTheme:n}=(0,h.D)();return((0,a.useEffect)(()=>{s(!0)},[]),e)?(0,r.jsx)(f.$,{variant:"ghost",size:"icon",className:"cursor-pointer group-data-[state=collapsed]:size-8",onClick:()=>void("dark"===t?n("light"):n("dark")),children:"dark"===t?(0,r.jsx)(b.A,{}):(0,r.jsx)(g.A,{})}):null}var j=t(20193),p=t(80154);function k(e){let{className:s,...t}=e;return(0,r.jsxs)("nav",{className:(0,n.cn)("min-h-12 bg-background border-b border-b-sidebar-border flex items-center justify-end *:cursor-pointer",s),...t,children:[(0,r.jsx)(j.x2,{className:"mr-auto hidden max-md:flex cursor-pointer"}),(0,r.jsxs)("div",{className:"space-x-2 mr-2 max-sm:mr-0 max-sm:space-x-0",children:[(0,r.jsx)(f.$,{variant:"ghost",asChild:!0,children:(0,r.jsxs)(i(),{href:"/panel/settings",children:[(0,r.jsx)(c.A,{}),(0,r.jsx)("span",{className:"max-sm:hidden",children:(0,p.$)("nav.settings")})]})}),(0,r.jsx)(f.$,{variant:"ghost",asChild:!0,children:(0,r.jsxs)(i(),{href:"https://opanel.cn/docs/quick-start.html",target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(d.A,{}),(0,r.jsx)("span",{className:"max-sm:hidden",children:(0,p.$)("nav.docs")}),(0,r.jsx)(u.A,{className:"!size-3 ml-1 max-sm:hidden",stroke:"var(--color-muted-foreground)"})]})})]}),(0,r.jsx)(f.$,{variant:"ghost",size:"icon",onClick:()=>void((0,o.deleteCookie)("token"),window.location.href="/login"),children:(0,r.jsx)(x.A,{})}),(0,r.jsx)(v,{}),(0,r.jsx)(f.$,{className:"max-sm:hidden",variant:"ghost",size:"icon",asChild:!0,children:(0,r.jsx)(i(),{href:"/about",children:(0,r.jsx)(m.A,{})})})]})}var N=t(13052);function y(e){let{...s}=e;return(0,r.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...s})}function C(e){let{className:s,...t}=e;return(0,r.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,n.cn)("text-muted-foreground flex flex-wrap items-center gap-1 text-sm break-words",s),...t})}function w(e){let{className:s,...t}=e;return(0,r.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,n.cn)("inline-flex items-center gap-1.5 text-xs",s),...t})}function $(e){let{className:s,...t}=e;return(0,r.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,n.cn)("text-foreground font-semibold",s),...t})}function A(e){let{children:s,className:t,...a}=e;return(0,r.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,n.cn)("[&>svg]:size-3.5",t),...a,children:null!=s?s:(0,r.jsx)(N.A,{})})}function z(e){let{children:s,title:t,subTitle:l,description:i,category:o,icon:c,outerClassName:d,pageClassName:u,className:x,...m}=e;return(0,a.useEffect)(()=>{document.title="OPanel - ".concat(null!=l?l:t)},[t,l]),(0,r.jsxs)("div",{className:(0,n.cn)("group max-h-screen bg-sidebar flex-1 flex flex-col",d),children:[(0,r.jsx)(k,{className:"px-8 max-sm:px-2"}),(0,r.jsxs)("div",{className:(0,n.cn)("flex-1 p-8 flex flex-col gap-4 overflow-y-auto",!i&&"gap-8",u),children:[(0,r.jsxs)("div",{className:"space-y-4",children:[o&&(0,r.jsx)(y,{className:"mb-3",children:(0,r.jsxs)(C,{children:[(0,r.jsx)(w,{children:o}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A,{}),(0,r.jsx)(w,{children:(0,r.jsx)($,{children:t})})]})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-5",children:[c,(0,r.jsx)("h1",{className:"text-3xl font-bold",children:null!=l?l:t})]}),i&&(0,r.jsx)("span",{className:"text-muted-foreground",children:i})]}),(0,r.jsx)("div",{className:x,...m,children:s})]})]})}},31815:(e,s,t)=>{"use strict";t.d(s,{y:()=>l});var r=t(95155),a=t(51154),n=t(53999);function l(e){let{className:s,...t}=e;return(0,r.jsx)(a.A,{role:"status","aria-label":"Loading",className:(0,n.cn)("size-4 animate-spin",s),...t})}},41236:(e,s,t)=>{"use strict";t.d(s,{V:()=>a});var r=t(12115);function a(e,s,t){let a=(0,r.useCallback)(r=>{r.key.toLowerCase()===e.toLowerCase()&&(!s.ctrl||r.ctrlKey)&&(!s.shift||r.shiftKey)&&(!s.alt||r.altKey)&&t(r)},[e,s,t]);(0,r.useEffect)(()=>(document.body.addEventListener("keydown",a),()=>document.body.removeEventListener("keydown",a)),[a])}},89577:(e,s,t)=>{"use strict";t.d(s,{At:()=>d,CT:()=>c,F6:()=>n,J1:()=>u,Ls:()=>i,Zz:()=>l,yc:()=>o});var r=t(95155),a=t(53999);function n(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"files-editor",className:(0,a.cn)("h-full border rounded-md bg-background dark:bg-transparent flex max-lg:flex-col overflow-hidden",s),...t})}function l(e){let{className:s,...t}=e;return(0,r.jsx)("aside",{"data-slot":"files-editor-sidebar",className:(0,a.cn)("flex-1/4 h-fit max-h-full max-lg:max-h-none flex flex-col gap-3 p-2",s),...t})}function i(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"files-editor-sidebar-list",className:(0,a.cn)("flex-1 flex flex-col overflow-y-auto",s),...t})}function o(e){let{className:s,isActive:t=!1,...n}=e;return(0,r.jsx)("div",{"data-slot":"files-editor-sidebar-list-item",className:(0,a.cn)("h-10 rounded-sm px-3 py-1 flex items-center gap-2 text-sm cursor-pointer [&_svg]:size-4",t&&"bg-muted",s),...n})}function c(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"files-editor-content",className:(0,a.cn)("flex-3/4 border-l max-lg:border-l-0 max-lg:border-t max-lg:min-h-96 flex flex-col justify-end max-lg:flex-col-reverse",s),...t})}function d(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"files-editor-status-bar",className:(0,a.cn)("h-6 px-2 border-t max-lg:border-t-0 max-lg:border-b flex items-center [&>*]:text-xs [&>*]:text-muted-foreground cursor-default",s),...t})}function u(e){let{className:s,side:t="left",...n}=e;return(0,r.jsx)("span",{"data-slot":"files-editor-status-bar-item",className:(0,a.cn)("right"===t&&"ml-auto",s),...n})}},96970:(e,s,t)=>{Promise.resolve().then(t.bind(t,7098))}},e=>{e.O(0,[9690,4390,1835,9641,5702,6671,9438,297,4028,3448,6672,304,5294,8441,5964,7358],()=>e(e.s=96970)),_N_E=e.O()}]);