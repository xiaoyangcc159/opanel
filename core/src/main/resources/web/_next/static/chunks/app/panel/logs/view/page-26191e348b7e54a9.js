(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4285],{6937:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var r=n(95155),a=n(12115),s=n(80154);let l=(0,a.memo)(function(e){let{id:t,rich:n=!0,args:a=[],className:l}=e,o=n?(0,s.I)(t,...a):(0,s.k)(t);return n?(0,r.jsx)("span",{className:l,dangerouslySetInnerHTML:{__html:o},suppressHydrationWarning:!0}):(0,r.jsx)("span",{className:l,children:o})},(e,t)=>e.id===t.id&&e.rich===t.rich&&e.className===t.className)},10255:(e,t,n)=>{"use strict";function r(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return r}}),n(95155),n(47650),n(85744),n(20589)},13052:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(19946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},17828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,n(64054).createAsyncLocalStorage)()},24232:(e,t,n)=>{"use strict";n.d(t,{C:()=>f});var r=n(95155),a=n(12115),s=n(13052),l=n(53999);function o(e){let{...t}=e;return(0,r.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function i(e){let{className:t,...n}=e;return(0,r.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,l.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...n})}function c(e){let{className:t,...n}=e;return(0,r.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,l.cn)("inline-flex items-center gap-1.5",t),...n})}function u(e){let{className:t,...n}=e;return(0,r.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,l.cn)("text-foreground font-normal",t),...n})}function d(e){let{children:t,className:n,...a}=e;return(0,r.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,l.cn)("[&>svg]:size-3.5",n),...a,children:null!=t?t:(0,r.jsx)(s.A,{})})}var m=n(76037),h=n(20193);function f(e){let{children:t,title:n,subTitle:s,icon:f,outerClassName:g,className:p,...y}=e;return(0,a.useEffect)(()=>{document.title="OPanel - ".concat(null!=s?s:n)},[n,s]),(0,r.jsxs)("div",{className:(0,l.cn)("group px-16 max-md:px-12 max-sm:px-8 flex-1 flex flex-col gap-6 max-md:gap-2",g),children:[(0,r.jsxs)("div",{className:"pt-10 pb-5 flex flex-col gap-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(h.x2,{className:"cursor-pointer"}),(0,r.jsx)(m.w,{orientation:"vertical"}),(0,r.jsx)(o,{children:(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{children:"OPanel"}),(0,r.jsx)(d,{}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{children:n}),(0,r.jsx)(d,{})]}),(0,r.jsx)(c,{children:(0,r.jsx)(u,{children:null!=s?s:n})})]})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-5",children:[f,(0,r.jsx)("h1",{className:"text-3xl font-bold",children:null!=s?s:n})]})]}),(0,r.jsx)("div",{className:(0,l.cn)(p,"pb-14"),...y,children:t})]})}},31886:(e,t,n)=>{"use strict";n.d(t,{IB:()=>d,Kf:()=>i,QM:()=>h,nl:()=>m,ow:()=>u,qV:()=>c,y0:()=>l,yq:()=>o});var r=n(23464),a=n(16453),s=n(56671);let l="",o=globalThis.window?"".concat("http:"===window.location.protocol?"ws":"wss","://").concat(window.location.host):"ws://localhost:3000";function i(e,t,n){if(401===e.status&&"/login"!==window.location.pathname){(0,a.deleteCookie)("token"),window.location.href="/login";return}for(let[r,a]of n)if(e.status===r)return void s.oR.error(t,{description:a});s.oR.error(t,{description:e.message})}async function c(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(await r.A.request({method:"get",url:l+e,withCredentials:t})).data}async function u(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=t?JSON.stringify(t):"";return(await r.A.request({method:"post",maxBodyLength:1/0,url:l+e,withCredentials:n,headers:{"Content-Type":"text/plain"},data:a})).data}async function d(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=t?JSON.stringify(t):"";return(await r.A.request({method:"patch",maxBodyLength:1/0,url:l+e,withCredentials:n,headers:{"Content-Type":"text/plain"},data:a})).data}async function m(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=t?JSON.stringify(t):"";return(await r.A.request({method:"delete",maxBodyLength:1/0,url:l+e,withCredentials:n,headers:{"Content-Type":"text/plain"},data:a})).data}async function h(e,t,n){let a=!(arguments.length>3)||void 0===arguments[3]||arguments[3],s=new FormData;return s.append("file",t),(await r.A.request({method:"post",url:l+e,withCredentials:a,headers:{"Content-Type":"multipart/form-data"},data:s,onUploadProgress:e=>{var t;return n&&n(null!=(t=e.progress)?t:0)}})).data}},32007:(e,t,n)=>{"use strict";n.d(t,{S:()=>o,f:()=>l});var r=n(56671),a=n(31886),s=n(80154);async function l(e){window.open("".concat(a.y0,"/api/logs/").concat(e,"/download"),"_blank")}async function o(e){try{await (0,a.nl)("/api/logs/".concat(e)),r.oR.success((0,s.$)("logs.action.delete.success"))}catch(e){(0,a.Kf)(e,(0,s.$)("logs.action.delete.error"),[[400,(0,s.$)("common.error.400")],[401,(0,s.$)("common.error.401")],[403,(0,s.$)("logs.action.delete.error.403")],[404,(0,s.$)("logs.action.delete.error.404")]])}}},35695:(e,t,n)=>{"use strict";var r=n(18999);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},36645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let r=n(88229)._(n(67357));function a(e,t){var n;let a={};"function"==typeof e&&(a.loader=e);let s={...a,...t};return(0,r.default)({...s,modules:null==(n=s.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},51362:(e,t,n)=>{"use strict";n.d(t,{D:()=>c,N:()=>u});var r=n(12115),a=(e,t,n,r,a,s,l,o)=>{let i=document.documentElement,c=["light","dark"];function u(t){var n;(Array.isArray(e)?e:[e]).forEach(e=>{let n="class"===e,r=n&&s?a.map(e=>s[e]||e):a;n?(i.classList.remove(...r),i.classList.add(s&&s[t]?s[t]:t)):i.setAttribute(e,t)}),n=t,o&&c.includes(n)&&(i.style.colorScheme=n)}if(r)u(r);else try{let e=localStorage.getItem(t)||n,r=l&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(r)}catch(e){}},s=["light","dark"],l="(prefers-color-scheme: dark)",o=r.createContext(void 0),i={setTheme:e=>{},themes:[]},c=()=>{var e;return null!=(e=r.useContext(o))?e:i},u=e=>r.useContext(o)?r.createElement(r.Fragment,null,e.children):r.createElement(m,{...e}),d=["light","dark"],m=e=>{let{forcedTheme:t,disableTransitionOnChange:n=!1,enableSystem:a=!0,enableColorScheme:i=!0,storageKey:c="theme",themes:u=d,defaultTheme:m=a?"system":"light",attribute:y="data-theme",value:b,children:x,nonce:v,scriptProps:w}=e,[j,k]=r.useState(()=>f(c,m)),[S,P]=r.useState(()=>"system"===j?p():j),_=b?Object.values(b):u,C=r.useCallback(e=>{let t=e;if(!t)return;"system"===e&&a&&(t=p());let r=b?b[t]:t,l=n?g(v):null,o=document.documentElement,c=e=>{"class"===e?(o.classList.remove(..._),r&&o.classList.add(r)):e.startsWith("data-")&&(r?o.setAttribute(e,r):o.removeAttribute(e))};if(Array.isArray(y)?y.forEach(c):c(y),i){let e=s.includes(m)?m:null,n=s.includes(t)?t:e;o.style.colorScheme=n}null==l||l()},[v]),O=r.useCallback(e=>{let t="function"==typeof e?e(j):e;k(t);try{localStorage.setItem(c,t)}catch(e){}},[j]),N=r.useCallback(e=>{P(p(e)),"system"===j&&a&&!t&&C("system")},[j,t]);r.useEffect(()=>{let e=window.matchMedia(l);return e.addListener(N),N(e),()=>e.removeListener(N)},[N]),r.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?k(e.newValue):O(m))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[O]),r.useEffect(()=>{C(null!=t?t:j)},[t,j]);let A=r.useMemo(()=>({theme:j,setTheme:O,forcedTheme:t,resolvedTheme:"system"===j?S:j,themes:a?[...u,"system"]:u,systemTheme:a?S:void 0}),[j,O,t,S,a,u]);return r.createElement(o.Provider,{value:A},r.createElement(h,{forcedTheme:t,storageKey:c,attribute:y,enableSystem:a,enableColorScheme:i,defaultTheme:m,value:b,themes:u,nonce:v,scriptProps:w}),x)},h=r.memo(e=>{let{forcedTheme:t,storageKey:n,attribute:s,enableSystem:l,enableColorScheme:o,defaultTheme:i,value:c,themes:u,nonce:d,scriptProps:m}=e,h=JSON.stringify([s,n,i,t,u,c,l,o]).slice(1,-1);return r.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(a.toString(),")(").concat(h,")")}})}),f=(e,t)=>{let n;try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t},g=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},p=e=>(e||(e=window.matchMedia(l)),e.matches?"dark":"light")},55028:(e,t,n)=>{"use strict";n.d(t,{default:()=>a.a});var r=n(36645),a=n.n(r)},62146:(e,t,n)=>{"use strict";function r(e){let{reason:t,children:n}=e;return n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),n(45262)},62525:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(19946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return o}});let n=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return a?new a:new r}function l(e){return a?a.bind(e):r.bind(e)}function o(){return a?a.snapshot():function(e,...t){return e(...t)}}},67357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=n(95155),a=n(12115),s=n(62146);function l(e){return{default:e&&"default"in e?e.default:e}}n(10255);let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},n=(0,a.lazy)(()=>t.loader().then(l)),i=t.loading;function c(e){let l=i?(0,r.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?a.Suspense:a.Fragment,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(n,{...e})]}):(0,r.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(n,{...e})});return(0,r.jsx)(c,{...o?{fallback:l}:{},children:u})}return c.displayName="LoadableComponent",c}},69506:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(95155),a=n(55028),s=n(12115),l=n(91788),o=n(62525),i=n(35695),c=n(51362),u=n(24232),d=n(31886),m=n(97168),h=n(32007),f=n(52815),g=n(80154),p=n(6937);let y=(0,a.default)(()=>Promise.all([n.e(4654),n.e(1376),n.e(6859),n.e(8638),n.e(4695),n.e(2674),n.e(1752)]).then(n.bind(n,11752)),{loadableGenerated:{webpack:()=>[11752]},ssr:!1});function b(){let e=(0,i.useSearchParams)(),{push:t}=(0,i.useRouter)(),[n,a]=(0,s.useState)(""),{theme:b}=(0,c.D)(),x=(0,s.useRef)(null),v=e.get("log"),w=(0,s.useCallback)(async()=>{if(!v)return void t("/panel/logs");try{let e=await (0,d.qV)("/api/logs/".concat(v));a(e)}catch(e){(0,d.Kf)(e,(0,g.$)("logs.view.fetch.error"),[[400,(0,g.$)("common.error.400")],[401,(0,g.$)("common.error.401")],[404,(0,g.$)("logs.view.fetch.error.404")],[500,(0,g.$)("common.error.500")]])}},[v,t]);return(0,s.useEffect)(()=>{x.current&&x.current.setValue(n)},[n]),(0,s.useEffect)(()=>{w()},[w]),(0,r.jsxs)(u.C,{title:(0,g.$)("logs.title"),subTitle:null!=v?v:"",children:[(0,r.jsxs)("div",{className:"mb-3 flex justify-between items-center",children:[(0,r.jsx)(p.E,{id:"logs.view.hint",args:[(null==v?void 0:v.endsWith(".log.gz"))?"gzip (".concat((0,g.$)("logs.view.decompressed"),")"):"log"],className:"text-sm text-muted-foreground"}),(0,r.jsxs)("div",{className:"[&>*]:cursor-pointer",children:[(0,r.jsx)(m.$,{variant:"ghost",size:"icon",title:(0,g.$)("logs.action.download"),onClick:()=>(0,h.f)(null!=v?v:""),children:(0,r.jsx)(l.A,{})}),(0,r.jsx)(m.$,{variant:"ghost",size:"icon",title:(0,g.$)("logs.action.delete"),disabled:null==v?void 0:v.endsWith(".log"),onClick:async()=>{await (0,h.S)(null!=v?v:""),t("/panel/logs")},children:(0,r.jsx)(o.A,{})})]})]}),(0,r.jsx)(y,{height:"550px",defaultLanguage:"server-log",defaultValue:n,theme:"dark"===b?"server-log-theme-dark":"server-log-theme",options:{readOnly:!0,readOnlyMessage:{value:(0,g.$)("logs.view.monaco.readonly")},...f.FN},onMount:e=>x.current=e})]})}},79701:(e,t,n)=>{Promise.resolve().then(n.bind(n,69506))},85744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=n(17828)},91788:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(19946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])}},e=>{e.O(0,[9690,4390,3498,9641,5702,5100,5452,6671,3207,3464,154,193,8441,5964,7358],()=>e(e.s=79701)),_N_E=e.O()}]);