(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4285],{6937:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var n=r(95155),l=r(12115),a=r(80154);let o=(0,l.memo)(function(e){let{id:t,rich:r=!0,args:l=[],className:o}=e,s=r?(0,a.Iz)(t,...l):(0,a.kg)(t);return r?(0,n.jsx)("span",{className:o,dangerouslySetInnerHTML:{__html:s},suppressHydrationWarning:!0}):(0,n.jsx)("span",{className:o,children:s})},(e,t)=>e.id===t.id&&e.rich===t.rich&&e.className===t.className)},10255:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(95155),r(47650),r(85744),r(20589)},17828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(64054).createAsyncLocalStorage)()},35695:(e,t,r)=>{"use strict";var n=r(18999);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},36645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let n=r(88229)._(r(67357));function l(e,t){var r;let l={};"function"==typeof e&&(l.loader=e);let a={...l,...t};return(0,n.default)({...a,modules:null==(r=a.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55028:(e,t,r)=>{"use strict";r.d(t,{default:()=>l.a});var n=r(36645),l=r.n(n)},62146:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(45262)},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return o},createAsyncLocalStorage:function(){return a},createSnapshot:function(){return s}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let l="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function a(){return l?new l:new n}function o(e){return l?l.bind(e):n.bind(e)}function s(){return l?l.snapshot():function(e,...t){return e(...t)}}},67357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let n=r(95155),l=r(12115),a=r(62146);function o(e){return{default:e&&"default"in e?e.default:e}}r(10255);let s={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},u=function(e){let t={...s,...e},r=(0,l.lazy)(()=>t.loader().then(o)),u=t.loading;function i(e){let o=u?(0,n.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,s=!t.ssr||!!t.loading,i=s?l.Suspense:l.Fragment,c=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(i,{...s?{fallback:o}:{},children:c})}return i.displayName="LoadableComponent",i}},69506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r(95155),l=r(55028),a=r(12115),o=r(91788),s=r(62525),u=r(35695),i=r(51362),c=r(20848),d=r(31886),f=r(97168),g=r(32007),m=r(52815),b=r(80154),h=r(6937);let p=(0,l.default)(()=>Promise.all([r.e(4654),r.e(1376),r.e(6859),r.e(8638),r.e(4695),r.e(2674),r.e(1752)]).then(r.bind(r,11752)),{loadableGenerated:{webpack:()=>[11752]},ssr:!1});function y(){let e=(0,u.useSearchParams)(),{push:t}=(0,u.useRouter)(),[r,l]=(0,a.useState)(""),{theme:y}=(0,i.D)(),v=(0,a.useRef)(null),j=e.get("log"),_=(0,a.useCallback)(async()=>{if(!j)return void t("/panel/logs");try{let e=await (0,d.qV)("/api/logs/".concat(j));l(e)}catch(e){(0,d.Kf)(e,(0,b.$)("logs.view.fetch.error"),[[400,(0,b.$)("common.error.400")],[401,(0,b.$)("common.error.401")],[404,(0,b.$)("logs.view.fetch.error.404")],[500,(0,b.$)("common.error.500")]])}},[j,t]);return(0,a.useEffect)(()=>{v.current&&v.current.setValue(r)},[r]),(0,a.useEffect)(()=>{_()},[_]),(0,n.jsxs)(c.C,{title:(0,b.$)("logs.title"),subTitle:null!=j?j:"",category:(0,b.$)("sidebar.management"),children:[(0,n.jsxs)("div",{className:"mb-3 flex justify-between items-center",children:[(0,n.jsx)(h.E,{id:"logs.view.hint",args:[(null==j?void 0:j.endsWith(".log.gz"))?"gzip (".concat((0,b.$)("logs.view.decompressed"),")"):"log"],className:"text-sm text-muted-foreground"}),(0,n.jsxs)("div",{className:"[&>*]:cursor-pointer",children:[(0,n.jsx)(f.$,{variant:"ghost",size:"icon",title:(0,b.$)("logs.action.download"),onClick:()=>(0,g.f)(null!=j?j:""),children:(0,n.jsx)(o.A,{})}),(0,n.jsx)(f.$,{variant:"ghost",size:"icon",title:(0,b.$)("logs.action.delete"),disabled:null==j?void 0:j.endsWith(".log"),onClick:async()=>{await (0,g.S)(null!=j?j:""),t("/panel/logs")},children:(0,n.jsx)(s.A,{})})]})]}),(0,n.jsx)(p,{height:"550px",defaultLanguage:"server-log",defaultValue:r,theme:"dark"===y?"server-log-theme-dark":"server-log-theme",options:{readOnly:!0,readOnlyMessage:{value:(0,b.$)("logs.view.monaco.readonly")},...m.FN},className:"border rounded-md overflow-hidden",onMount:e=>v.current=e})]})}},79701:(e,t,r)=>{Promise.resolve().then(r.bind(r,69506))},85744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(17828)}},e=>{e.O(0,[9690,4390,1835,9641,5702,6671,9438,297,4028,3448,304,5294,2679,8441,5964,7358],()=>e(e.s=79701)),_N_E=e.O()}]);